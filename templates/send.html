{% extends "base.html" %}

{% block content %}

<div class="d-flex align-items-center gap-2 mb-3">
  <h4 class="mb-0">Send</h4>
  <span class="badge network-badge-{{ network }} text-uppercase">{{ network_name }}</span>
</div>

{% if network == 'mainnet' %}
  <div class="alert alert-danger d-flex align-items-start gap-2">
    <strong>Mainnet:</strong>
    <span>You are sending real assets. Transactions are irreversible.</span>
  </div>
{% endif %}

<div class="card">
  <div class="card-body">
    {% if public_key %}
      <p class="text-muted small mb-4">
        From: <code class="hash">{{ public_key }}</code>
      </p>
    {% endif %}

    <form method="post">
      <div class="mb-3">
        <label for="destination" class="form-label">Destination Address</label>
        <input type="text" class="form-control hash" id="destination" name="destination"
               placeholder="G..." required autofocus
               spellcheck="false" autocomplete="off">
      </div>

      <div class="mb-3">
        <label for="asset" class="form-label">Asset</label>
        <select class="form-select" id="asset" name="asset">
          <option value="native">XLM (native)</option>
          {% for a in tracked_assets %}
            <option value="{{ a.code }}:{{ a.issuer }}">{{ a.code }}</option>
          {% endfor %}
        </select>
        {% if not tracked_assets %}
          <div class="form-text">
            Only XLM available. <a href="/assets">Add tracked assets</a> to send other tokens.
          </div>
        {% endif %}
      </div>

      <div class="mb-3">
        <label for="amount" class="form-label">Amount</label>
        <input type="number" class="form-control" id="amount" name="amount"
               placeholder="0.0000000" step="0.0000001" min="0.0000001" required>
      </div>

      <div class="mb-4">
        <label for="password" class="form-label">Wallet Password</label>
        <input type="password" class="form-control" id="password" name="password"
               placeholder="Your wallet password" required autocomplete="off">
        <div class="form-text">
          Used to decrypt your secret key locally â€” never sent or stored anywhere.
        </div>
      </div>

      <button type="submit" class="btn btn-primary">Send Payment</button>
      <a href="/" class="btn btn-link text-muted">Cancel</a>
    </form>
  </div>
</div>

{% endblock %}
